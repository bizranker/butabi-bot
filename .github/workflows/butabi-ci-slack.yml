name: Butabi Slack Alert

on:
  workflow_call:

jobs:
  notify-slack:
    runs-on: ubuntu-latest
    steps:
      - name: Post Glorious Decree to Slack
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.BUTABIBOT_WEBHOOK }}
        run: |
          curl -X POST -H 'Content-type: application/json' --data "{
            \"text\": \"
*ğŸš€ New Push to Main!*
ğŸ‘‘ *Decree issued by ButabiBot!*

ğŸ§‘â€ğŸ’» *Pushed by:* ${{ github.actor }}
ğŸŒ¿ *Branch:* ${{ github.ref_name }}
ğŸ“¦ *Repository:* ${{ github.repository }}
ğŸ• *Time:* $(date -u)

ğŸ”— <https://github.com/${{ github.repository }}/commit/${{ github.sha }}|View Commit>
            \"
          }" $SLACK_WEBHOOK_URL
